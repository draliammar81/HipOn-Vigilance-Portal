<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>HipOn Vigilance Portal – Safety Events Reporting</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --blue-deep: #031024;
      --blue-mid: #053c71;
      --blue-soft: #0b70b8;
      --blue-accent: #1ea5ff;
      --blue-accent-soft: #37c0ff;
      --text-main: #f7fbff;
      --text-muted: #a9bed9;
      --border-subtle: rgba(255, 255, 255, 0.08);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background:
        radial-gradient(circle at top left, #0a4b88, transparent 55%),
        radial-gradient(circle at top right, #0b70b8, transparent 55%),
        radial-gradient(circle at bottom, #021731, transparent 55%),
        linear-gradient(160deg, var(--blue-deep), #020712 60%, #000000);
      color: var(--text-main);
      min-height: 100vh;
    }

    a {
      color: var(--blue-accent-soft);
    }

    .page {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1.5rem 1.5rem 3rem;
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.5rem;
      margin-bottom: 1.5rem;
      background: rgba(1, 10, 30, 0.75);
      border-radius: 1rem;
      border: 1px solid var(--border-subtle);
      backdrop-filter: blur(10px);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .brand img {
      height: 64px;
      width: auto;
    }

    .brand-title {
      display: flex;
      flex-direction: column;
    }

    .brand-title h1 {
      margin: 0;
      font-size: 1.5rem;
      letter-spacing: 0.03em;
    }

    .brand-title span {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .devices {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .device-card {
      background: linear-gradient(135deg, rgba(5, 60, 120, 0.95), #020d24);
      border-radius: 1.25rem;
      border: 1px solid var(--border-subtle);
      overflow: hidden;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.55);
    }

    .device-card img {
      display: block;
      width: 100%;
      height: auto;
    }

    .device-card h2 {
      margin: 0.75rem 1.25rem 1.25rem;
      font-size: 1.1rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .mission-card {
      margin-bottom: 2rem;
      background: rgba(0, 8, 26, 0.8);
      border-radius: 1.25rem;
      border: 1px solid var(--border-subtle);
      padding: 1.5rem 1.75rem;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.4);
    }

    .mission-card h2 {
      margin-top: 0;
      margin-bottom: 0.75rem;
      font-size: 1.15rem;
    }

    .mission-card p {
      margin: 0.25rem 0;
      color: var(--text-muted);
      line-height: 1.5;
      font-size: 0.95rem;
    }

    .content-columns {
      display: grid;
      grid-template-columns: minmax(0, 2.4fr) minmax(0, 1.4fr);
      gap: 1.5rem;
      align-items: flex-start;
    }

    @media (max-width: 900px) {
      .content-columns {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card {
      background: rgba(0, 5, 20, 0.8);
      border-radius: 1.25rem;
      border: 1px solid var(--border-subtle);
      padding: 1.75rem 1.75rem 2rem;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.4);
    }

    .card h2 {
      margin-top: 0;
      margin-bottom: 0.75rem;
      font-size: 1.25rem;
    }

    .card p {
      margin-top: 0;
      margin-bottom: 1rem;
      color: var(--text-muted);
      font-size: 0.95rem;
    }

    form {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 1rem 1.25rem;
    }

    @media (max-width: 700px) {
      form {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    .field.full-width {
      grid-column: 1 / -1;
    }

    label {
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    input,
    select,
    textarea {
      border-radius: 0.7rem;
      border: 1px solid var(--border-subtle);
      background: #04152f;
      color: var(--text-main);
      padding: 0.55rem 0.7rem;
      font: inherit;
      outline: none;
    }

    input:focus,
    select:focus,
    textarea:focus {
      border-color: var(--blue-accent);
      box-shadow: 0 0 0 1px rgba(55, 192, 255, 0.4);
    }

    textarea {
      min-height: 120px;
      resize: vertical;
    }

    .hint {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    button[type="submit"] {
      margin-top: 0.5rem;
      grid-column: 1 / -1;
      border-radius: 999px;
      border: none;
      padding: 0.8rem 1.5rem;
      font-weight: 600;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      background: linear-gradient(135deg, var(--blue-accent), var(--blue-accent-soft));
      color: #ffffff;
      cursor: pointer;
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.5);
      transition: transform 0.15s ease, box-shadow 0.15s ease,
        filter 0.15s ease;
    }

    button[type="submit"]:hover {
      filter: brightness(1.06);
      box-shadow: 0 16px 30px rgba(0, 0, 0, 0.7);
      transform: translateY(-1px);
    }

    button[type="submit"]:active {
      transform: translateY(1px);
      box-shadow: 0 10px 18px rgba(0, 0, 0, 0.6);
    }

    .contact-block {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px dashed var(--border-subtle);
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    .chatbot {
      margin-top: 1.5rem;
      padding: 1rem;
      border-radius: 0.9rem;
      border: 1px solid var(--border-subtle);
      background: rgba(4, 40, 90, 0.85);
      font-size: 0.9rem;
      color: var(--text-muted);
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- HEADER WITH LOGO -->
    <header class="header">
      <div class="brand">
        <img src="Logo.png" alt="HipOn logo" />
        <div class="brand-title">
          <h1>HipOn Vigilance Portal</h1>
          <span>CERAMO &amp; POLYMO – Safety Events Reporting</span>
        </div>
      </div>
    </header>

    <!-- DEVICE IMAGES -->
    <section class="devices">
      <article class="device-card">
        <img src="devices ceramo.png" alt="CERAMO device" />
        <h2>CERAMO System</h2>
      </article>
      <article class="device-card">
        <img src="devices polymo.png" alt="POLYMO device" />
        <h2>POLYMO System</h2>
      </article>
    </section>

    <!-- MISSION & VISION -->
    <section class="mission-card">
      <h2>HipOn Mission &amp; Vision</h2>
      <p>
        HipON is committed to evidence-based performance and uncompromising quality in Total Hip Replacement,
        building on a longstanding history of collaboration with leading European centers.
      </p>
      <p>
        This portal has been created with a single purpose: patient safety, which we consider the cornerstone of
        everything we do. Its aim is to enable rapid, compliant, and accurate analysis of any safety event in which
        our CERAMO or POLYMO systems were used.
      </p>
      <p>
        A dedicated team of clinical, engineering, and vigilance specialists works around the clock to deliver
        world-class case reviews, always putting the interests of patients and surgeons first.
      </p>
    </section>

    <section class="content-columns">
      <!-- LEFT: submission form -->
      <section class="card">
        <h2>Submit a Safety Event</h2>
        <p>
          Please complete the form below to report any incident, complaint or safety concern related to HipOn
          CERAMO or POLYMO systems.
        </p>

        <form id="complaintForm" enctype="multipart/form-data">
          <!-- Reporter details -->
          <div class="field">
            <label for="hcpName">Reporter name</label>
            <input id="hcpName" name="hcpName" type="text" required />
          </div>

          <div class="field">
            <label for="role">Role</label>
            <select id="role" name="role" required>
              <option value="">Select role…</option>
            </select>
          </div>

          <div class="field">
            <label for="facility">Hospital / facility</label>
            <input id="facility" name="facility" type="text" required />
          </div>

          <div class="field">
            <label for="country">Country</label>
            <select id="country" name="country" required>
              <option value="">Select country…</option>
            </select>
          </div>

          <!-- CITY AS FREE TEXT -->
          <div class="field">
            <label for="city">City</label>
            <input id="city" name="city" type="text" />
          </div>

          <div class="field">
            <label for="email">Email</label>
            <input id="email" name="email" type="email" required />
          </div>

          <div class="field">
            <label for="phone">Phone</label>
            <input id="phone" name="phone" type="tel" required />
          </div>

          <!-- Dates -->
          <div class="field">
            <label for="eventDate">Event date</label>
            <input id="eventDate" name="eventDate" type="date" required />
          </div>

          <div class="field">
            <label for="reportDate">Date of report (case creation)</label>
            <input id="reportDate" name="reportDate" type="date" />
            <div class="hint">
              Used together with the event date to improve analysis of reporting timelines.
            </div>
          </div>

          <!-- Device info -->
          <div class="field">
            <label for="deviceSystem">Device system</label>
            <select id="deviceSystem" name="deviceSystem" required>
              <option value="">Select system…</option>
              <option value="CERAMO">CERAMO</option>
              <option value="POLYMO">POLYMO</option>
            </select>
          </div>

          <div class="field">
            <label for="stemSize">Stem size</label>
            <select id="stemSize" name="stemSize">
              <option value="">Select size…</option>
            </select>
          </div>

          <div class="field">
            <label for="cupSize">Cup size</label>
            <select id="cupSize" name="cupSize">
              <option value="">Select size…</option>
            </select>
          </div>

          <div class="field">
            <label for="headSize">Head size</label>
            <select id="headSize" name="headSize">
              <option value="">Select size…</option>
            </select>
          </div>

          <div class="field">
            <label for="offsetOption">Offset</label>
            <select id="offsetOption" name="offsetOption">
              <option value="">Select option…</option>
              <option value="Normal">Normal</option>
              <option value="High">High</option>
            </select>
          </div>

          <div class="field">
            <label for="neckLength">Neck length</label>
            <select id="neckLength" name="neckLength">
              <option value="">Select length…</option>
              <option value="S">S</option>
              <option value="M">M</option>
              <option value="L">L</option>
            </select>
          </div>

          <div class="field">
            <label for="lotNumber">Lot number</label>
            <input id="lotNumber" name="lotNumber" type="text" />
          </div>

          <div class="field">
            <label for="serialNumber">Serial number</label>
            <input id="serialNumber" name="serialNumber" type="text" />
          </div>

          <!-- UDI field -->
          <div class="field full-width">
            <label for="udi">UDI (Unique Device Identification)</label>
            <input
              id="udi"
              name="udi"
              type="text"
              placeholder="Example: (01)07612345678901(17)261231(10)LOT123456"
            />
            <div class="hint">
              Example format: (01)&lt;GTIN&gt;(17)&lt;YYMMDD expiry&gt;(10)&lt;lot&gt; – enter as it appears on the label.
            </div>
          </div>

          <!-- Narrative -->
          <div class="field full-width">
            <label for="narrative">Event description</label>
            <textarea id="narrative" name="narrative" required></textarea>
            <div class="hint">
              Describe what happened, when it occurred, findings, patient outcome and any actions taken.
            </div>
          </div>

          <!-- Attachments -->
          <div class="field full-width">
            <label for="attachments">Attachments (images or files)</label>
            <input
              id="attachments"
              name="attachments"
              type="file"
              multiple
              accept="image/*,application/pdf,.doc,.docx,.xls,.xlsx,.zip"
            />
            <div class="hint">
              Optional: upload operative reports, imaging, photos or other supporting documents.
            </div>
          </div>

          <button type="submit">Submit report</button>
        </form>

        <div id="formMessage" class="hint" style="margin-top:0.75rem;"></div>

        <div class="contact-block">
          <strong>Direct contact:</strong>
          For urgent matters, please use your usual HipOn contact route or the vigilance contact information
          supplied in the product documentation.
        </div>
      </section>

      <!-- RIGHT: chatbot / support card -->
      <aside class="card">
        <h2>Chat &amp; Support</h2>
        <p>
          For general questions about this portal you can use the chatbot below. Clinical or regulatory questions
          should be directed to your HipOn representative or local vigilance contact.
        </p>

        <div class="chatbot">
          <!-- Replace this with your actual chatbot embed code -->
          Chatbot placeholder – insert your chatbot widget here.
        </div>
      </aside>
    </section>
  </div>

  <script>
    (function () {
      // Your deployed Apps Script Web App URL:
      const scriptURL = "https://script.google.com/macros/s/AKfycbxcHgZMx28Lz3zFFkLns2hQgQs_gPXuJjZs8-ZwTkzfobwJws9w7jEHcUNxeToZkprJ/exec";

      const countries = [
        "Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic",
        "Denmark","Estonia","Finland","France","Germany","Greece","Hungary",
        "Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta",
        "Netherlands","Poland","Portugal","Romania","Slovakia","Slovenia",
        "Spain","Sweden",
        "Norway","Iceland","Liechtenstein",
        "Switzerland","United Kingdom",
        "Albania","Bosnia and Herzegovina","Serbia","North Macedonia",
        "Montenegro","Kosovo","Moldova","Ukraine","Belarus",
        "Andorra","Monaco","San Marino","Vatican City",
        "Other Europe / EEA"
      ];

      const roles = [
        "Orthopedic Surgeon",
        "OR Nurse",
        "Scrub Nurse",
        "Physiotherapist",
        "Radiologist",
        "Other HCP"
      ];

      const stemSizes = ["#1", "#2", "#3", "#4", "#5", "#6", "#7", "#8"];
      const cupSizes = [
        "44 mm","46 mm","48 mm","50 mm","52 mm","54 mm",
        "56 mm","58 mm","60 mm","62 mm"
      ];
      const headSizes = ["28 mm", "32 mm", "36 mm", "40 mm"];

      function populateSelect(id, options) {
        const select = document.getElementById(id);
        if (!select) return;
        options.forEach((val) => {
          const opt = document.createElement("option");
          opt.value = val;
          opt.textContent = val;
          select.appendChild(opt);
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        populateSelect("country", countries);
        populateSelect("role", roles);
        populateSelect("stemSize", stemSizes);
        populateSelect("cupSize", cupSizes);
        populateSelect("headSize", headSizes);

        const reportDateInput = document.getElementById("reportDate");
        if (reportDateInput && !reportDateInput.value) {
          const today = new Date();
          const yyyy = today.getFullYear();
          const mm = String(today.getMonth() + 1).padStart(2, "0");
          const dd = String(today.getDate()).padStart(2, "0");
          reportDateInput.value = `${yyyy}-${mm}-${dd}`;
        }

        const form = document.getElementById("complaintForm");
        const message = document.getElementById("formMessage");

        form.addEventListener("submit", async (e) => {
          e.preventDefault();
          message.textContent = "Submitting… please wait.";

          const formData = new FormData(form);

          try {
            // Use no-cors to avoid browser CORS issues; fire-and-forget
            await fetch(scriptURL, {
              method: "POST",
              body: formData,
              mode: "no-cors"
            });

            message.textContent =
              "Thank you. Your safety event report has been submitted.";
            form.reset();

            if (reportDateInput) {
              const today = new Date();
              const yyyy = today.getFullYear();
              const mm = String(today.getMonth() + 1).padStart(2, "0");
              const dd = String(today.getDate()).padStart(2, "0");
              reportDateInput.value = `${yyyy}-${mm}-${dd}`;
            }
          } catch (err) {
            console.error(err);
            message.textContent =
              "Network error while submitting the report. Please try again.";
          }
        });
      });
    })();
  </script>
</body>
</html>
